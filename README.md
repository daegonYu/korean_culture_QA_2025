## í•œëˆˆì— ë³´ëŠ” í•µì‹¬ ìš”ì•½

ì´ ë ˆí¬ì§€í† ë¦¬ëŠ” \*\*êµ­ë¦½êµ­ì–´ì› AI ë§í‰(í•œêµ­ì–´ ëŠ¥ë ¥ í‰ê°€)\*\*ì˜ *í•œêµ­ë¬¸í™” ì§ˆì˜ì‘ë‹µ* ê³¼ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **2-ë‹¨ê³„ íŒŒì´í”„ë¼ì¸(í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ â†’  GRPO ê°•í™”í•™ìŠµ)** ì„ êµ¬í˜„í•œ í† í„¸ ì½”ë“œë² ì´ìŠ¤ì…ë‹ˆë‹¤. 

**ë§ì¶¤í˜• Reward Model** ë° **ì»¤ë¦¬í˜ëŸ¼ ìƒ˜í”Œë§** ê¸°ë²•ê¹Œì§€ í¬í•¨í•©ë‹ˆë‹¤. 
*ì„¤ì¹˜ â†’ ë°ì´í„° â†’ í›ˆë ¨ â†’ í‰ê°€ â†’ ì¶”ë¡ * ê³¼ì •

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
korean_culture_QA_2025
â”œâ”€â”€ accelerate/                 # FSDPÂ·DeepSpeed ì„¤ì •
â”œâ”€â”€ curriculum_data_sampling/   # ì»¤ë¦¬í˜ëŸ¼ ë°ì´í„° í•„í„°ë§ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ data/                       # ì›ë³¸Â·ì „ì²˜ë¦¬ ë°ì´í„°
â”œâ”€â”€ examples/                   # ì‹¤í—˜ shell script
â”œâ”€â”€ initial_prompts/            # Zero-shot/CoT í”„ë¡¬í”„íŠ¸ ì‹¤í—˜
â”œâ”€â”€ phase1_*                    # í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì¶”ë¡  ì‹¤í—˜
â”œâ”€â”€ phase2_sft.py               # LoRA-SFT í•™ìŠµ
â”œâ”€â”€ phase3_grpo*.py             # GRPO RL í•™ìŠµ (ë‹¨ì¼/ë‹¤ì¤‘ GPU, FSDP)
â”œâ”€â”€ reward_func.py              # ì»¤ìŠ¤í…€ RewardModel í•¨ìˆ˜
â”œâ”€â”€ lora_model_merge.py         # LoRA ê°€ì¤‘ì¹˜ ë³‘í•© ìœ í‹¸
â”œâ”€â”€ result_graph.ipynb          # í‰ê°€ ì ìˆ˜ ì‹œê°í™”
â””â”€â”€ install.sh / requirements.txt
```

## ğŸ”§ ì„¤ì¹˜ & í™˜ê²½ êµ¬ì„±

```bash
bash install.sh      # CUDA 12.x + PyTorch 2.3 ê¸°ì¤€
```


> **Tip** : GPU 4 ì¥ ì´ìƒì´ë©´ `accelerate config` í›„ `accelerate launch phase3_grpo_6_fsdp.py`ë¡œ FSDP í•™ìŠµì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“‘ ë°ì´í„° ì¤€ë¹„

1. **ê³µì‹ Dev / Test** : êµ­ë¦½êµ­ì–´ì› AI ë§í‰ ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë°›ì•„ `data/`ì— ì €ì¥í•©ë‹ˆë‹¤. ([êµ­ë¦½êµ­ì–´ì› ì–¸ì–´ì •ë³´ë‚˜ëˆ”í„°])
2. `data_preprocessing.ipynb` : ë°ì´í„° ì „ì²˜ë¦¬

## ğŸ—ï¸ 3-ë‹¨ê³„ í•™ìŠµ íŒŒì´í”„ë¼ì¸

| ë‹¨ê³„                             | ìŠ¤í¬ë¦½íŠ¸               | ì£¼ìš” ê¸°ìˆ                                                                      | ì¶œë ¥               |
| ------------------------------ | ------------------ | ------------------------------------------------------------------------- | ---------------- |
| **Phase 1** Prompt Engineering | `run_phase1.py`    | Zero/CoT/Choice-Shuffle í”„ë¡¬í”„íŠ¸ ì‹¤í—˜                                           | ì´ˆê¸° ë² ì´ìŠ¤ë¼ì¸         |
~~| **Phase 2** SFT                | `phase2_sft.py`    | **LoRA-8**(ë’¤ 1/3 Attention Q,V), 16-bit, AdamW                            | SFT Adapter      |~~
| **Phase 3** RL                 | `phase3_grpo_*.py` | **GRPO**| ìµœì¢… RL checkpoint |

**Phase 3** RLì€ ì„ ë‹¤í˜•ê³¼ ë‹¨ë‹¨í˜•ì— ì ìš©